webpackJsonp(["loader.NewTweetsPill"],{K3f9:function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,a("n12u");var i=s(a("x5lS")),n=s(a("GiK3")),r=s(a("sT3W"));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e){return void 0===e&&(e={}),(0,i.default)("svg",Object.assign({},e,{style:[r.default.root,e.style],viewBox:"0 0 24 24"}),n.default.createElement("g",null,n.default.createElement("path",{d:"M18.707 10.293l-6-6c-.39-.39-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414.195.195.45.293.707.293s.512-.098.707-.293L11 7.414V20c0 .553.447 1 1 1s1-.447 1-1V7.414l4.293 4.293c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414z"})))};o.metadata={height:24,width:24};var l=o;t.default=l},KlVB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("SU+a"),a("n12u");var i=a("M1I4"),n=a.n(i),r=a("86MP"),s=a.n(r),o=a("fKPv"),l=a.n(o),c=a("GiK3"),u=a("Z1LJ"),p=a("bndy"),d=a("7t5w"),h=a("Dica"),m=Object(p.createSelector)(function(e,t){var a=t.alert&&t.alert.userIds;return a&&a.map(function(t){var a=h.d.select(e,t);return a&&{profile_image_url_https:a.profile_image_url_https}}).filter(Boolean)},function(e){return{userImageUrls:e}}),f={scribeAction:d.c},_=Object(u.e)(m,f),w=a("3f1i"),b=a("jH3T"),v=a.n(b),y=a("K3f9"),g=a.n(y),S=a("tXEk"),T=a("IIZ1"),E=a("6iEo"),D=a("MjES"),x=a.n(D),I=a("Mpbj"),M=a.n(I),L=a("cGHd"),j=a.n(L),F=a("jYKd"),P=a.n(F);a.d(t,"NewTweetsPill",function(){return K});var k=v.a.gc5f7806,A=v.a.fd726bf2,C={page:"home",component:"new_tweet_prompt"},K=function(e){function t(t){var a;return a=e.call(this,t)||this,l()(n()(a),"_attemptShow",function(){var e=a.props.hasNewItems,t=a.props.alert;if(a._timeoutID&&(clearTimeout(a._timeoutID),a._timeoutID=null),a._mounted&&(e&&!a._displayFacepileEnabled||t&&a._displayFacepileEnabled)){var i=a._getDelayRemaining();i<=0?a.setState({show:!0}):a._timeoutID=setTimeout(a._attemptShow,i)}}),l()(n()(a),"_handleScrollDown",function(){var e=a.props,t=e.remainVisibleInterval,i=e.alert,n=a._displayFacepileEnabled&&i&&i.displayDurationMs||t;a.state.show&&Date.now()>=a._showStartTime+n&&(a._scribeAction("dismiss"),a._hide())}),l()(n()(a),"_handleClick",function(){a._scribeAction("click"),window.scrollTo(0,0),a._hide()}),a._displayFacepileEnabled=w.a.isTrue("responsive_web_new_tweets_facepile_enabled"),a.state={show:!1},a}s()(t,e);var a=t.prototype;return a.componentDidMount=function(){this._mounted=!0,this._getLastShownTime()||this._updateLastShownTime(),this._attemptShow(),this._cancelMomentum=Object(S.a)({onUp:T.noop,onDown:this._handleScrollDown})},a.componentDidUpdate=function(e,t){this.props.alert&&!t.show&&this._attemptShow(),!e.hasNewItems&&this.props.hasNewItems?this._attemptShow():(e.hasNewItems&&!this.props.hasNewItems||e.alert&&!this.props.alert)&&this._hide(),t.show&&!this.state.show&&this._updateLastShownTime(),!t.show&&this.state.show&&(this._showStartTime=Date.now(),this._scribeAction("show"))},a.componentWillUnmount=function(){this._mounted=!1,this._cancelMomentum()},a.render=function(){var e,t=this.props,a=t.alert,i=t.userImageUrls,n=t.hasNewItems,r=this.state.show;if(this._displayFacepileEnabled&&a)e=a&&a.richText&&c.createElement(E.b,{entities:a.richText.entities,text:a.richText.text});else{if(!n)return null;e=k}return c.createElement(x.a,{accessibilityRole:"status"},c.createElement(x.a,{accessibilityLabel:A,accessibilityRole:"button",importantForAccessibility:r?"yes":"no-hide-descendants",onClick:this._handleClick,style:[O.pill,r&&O.show]},c.createElement(x.a,{style:O.innerPill},c.createElement(g.a,{color:"white"}),this._displayFacepileEnabled&&i?c.createElement(x.a,null,c.createElement(j.a,{userAvatars:i})):null,c.createElement(M.a,{color:"white",numberOfLines:1,style:this._displayFacepileEnabled&&O.pillText},e))))},a._getDelayRemaining=function(){var e=this.props,t=e.triggerDelay,a=e.alert,i=this._displayFacepileEnabled&&a&&a.triggerDelayMs||t;return this._getLastShownTime()+i-Date.now()},a._getLastShownTime=function(){return t.lastShownTime},a._updateLastShownTime=function(){t.lastShownTime=Date.now()},a._hide=function(){var e=this.props,t=e.alert,a=e.removeAlert;this._mounted&&this.setState({show:!1}),t&&setTimeout(function(){return a()},500)},a._scribeAction=function(e){var t=Object.assign({},C,{action:e});this.props.scribeAction(t)},t}(c.PureComponent);l()(K,"defaultProps",{remainVisibleInterval:2e3,triggerDelay:24e4});var O=P.a.create(function(e){return{pill:{boxShadow:e.boxShadows.small,backgroundColor:e.colors.primary,borderRadius:e.borderRadii.infinite,minHeight:e.spaces.large,paddingHorizontal:e.spaces.small,opacity:0,transform:[{translate3d:"0, 0, 0"}],transitionProperty:"transform, opacity",transitionDuration:"0.15s",transitionTimingFunction:"ease, ease, step-end"},innerPill:{flexDirection:"row",paddingTop:e.spaces.xxSmall},pillText:{marginLeft:e.spaces.xxSmall},show:{opacity:1,transitionTimingFunction:"ease, ease, step-start",transform:[{translate3d:"0, 3.5em, 0"}]}}});t.default=_(K)},cGHd:function(e,t,a){"use strict";var i=a("R6lU");t.__esModule=!0,t.default=void 0,a("SU+a"),a("w6W7");var n=i(a("86MP")),r=i(a("GiK3")),s=i(a("FzX0")),o=i(a("jYKd")),l=i(a("tQ79")),c=i(a("MjES")),u=s.default.createLayoutCache(),p=function(e){function t(){return e.apply(this,arguments)||this}return(0,n.default)(t,e),t.prototype.render=function(){var e=this.props.userAvatars,t=e.length;return r.default.createElement(c.default,{style:d.root},e.map(function(e,a){return r.default.createElement(l.default,{circle:!0,imageLayoutCache:u,key:e.profile_image_url_https,size:"medium",style:[d.avatar,0!==a&&d.avatarOverlap,{zIndex:t-a}],uri:e.profile_image_url_https})}))},t}(r.default.Component);t.default=p;var d=o.default.create(function(e){return{avatar:{borderColor:e.colors.cellBackground,borderWidth:e.borderWidths.small},avatarOverlap:{marginLeft:"-"+e.spaces.xSmall},root:{flexDirection:"row",flexShrink:0}}})}});
//# sourceMappingURL=https://ton.smf1.twitter.com/responsive-web-internal/sourcemaps/web/loader.NewTweetsPill.a9aeba76f2d29a4a4.js.map