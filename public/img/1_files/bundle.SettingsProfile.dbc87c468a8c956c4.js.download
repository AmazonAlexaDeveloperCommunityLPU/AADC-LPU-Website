webpackJsonp(["bundle.SettingsProfile"],{"/8xP":function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,a("n12u");var n=o(a("x5lS")),i=o(a("GiK3")),r=o(a("sT3W"));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return void 0===e&&(e={}),(0,n.default)("svg",Object.assign({},e,{style:[r.default.root,e.style],viewBox:"0 0 24 24"}),i.default.createElement("g",null,i.default.createElement("path",{d:"M19.708 22H4.292C3.028 22 2 20.972 2 19.708V7.375C2 6.11 3.028 5.083 4.292 5.083h2.146C7.633 3.17 9.722 2 12 2c2.277 0 4.367 1.17 5.562 3.083h2.146C20.972 5.083 22 6.11 22 7.375v12.333C22 20.972 20.972 22 19.708 22zM4.292 6.583c-.437 0-.792.355-.792.792v12.333c0 .437.355.792.792.792h15.416c.437 0 .792-.355.792-.792V7.375c0-.437-.355-.792-.792-.792h-2.45c-.317.05-.632-.095-.782-.382-.88-1.665-2.594-2.7-4.476-2.7-1.883 0-3.598 1.035-4.476 2.702-.16.302-.502.46-.833.38H4.293z"}),i.default.createElement("path",{d:"M12 8.167c-2.68 0-4.86 2.18-4.86 4.86s2.18 4.86 4.86 4.86 4.86-2.18 4.86-4.86-2.18-4.86-4.86-4.86zm2 5.583h-1.25V15c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-1.25H10c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h1.25V11c0-.414.336-.75.75-.75s.75.336.75.75v1.25H14c.414 0 .75.336.75.75s-.336.75-.75.75z"})))};l.metadata={height:24,width:24};var d=l;t.default=d},"/Y4e":function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,a("n12u");var n=o(a("x5lS")),i=o(a("GiK3")),r=o(a("sT3W"));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return void 0===e&&(e={}),(0,n.default)("svg",Object.assign({},e,{style:[r.default.root,e.style],viewBox:"0 0 24 24"}),i.default.createElement("g",null,i.default.createElement("path",{d:"M19.75 22H4.25C3.01 22 2 20.99 2 19.75V4.25C2 3.01 3.01 2 4.25 2h15.5C20.99 2 22 3.01 22 4.25v15.5c0 1.24-1.01 2.25-2.25 2.25zM4.25 3.5c-.413 0-.75.337-.75.75v15.5c0 .413.337.75.75.75h15.5c.413 0 .75-.337.75-.75V4.25c0-.413-.337-.75-.75-.75H4.25z"})))};l.metadata={height:24,width:24};var d=l;t.default=d},"8JKY":function(e,t,a){"use strict";a.d(t,"c",function(){return W}),t.a=function(e,t){void 0===t&&(t=A);if(W(e))return K(e)||T(t)},t.b=function(e,t){void 0===t&&(t=O);return e.type===m.d.type&&e.code===m.d.NO_DIMENSIONS?T(R):e.type===p.b.type&&e.code===p.b.NO_DIMENSIONS?T(D):T(t)};var n,i,r,o,l,d,s=a("n12u"),c=(a.n(s),a("jH3T")),u=a.n(c),f=a("UDB1"),h=a("2eO1"),p=a("I23d"),m=a("7P/m"),v=u.a.ae07f0a0,_=u.a.ic9b10df,g=u.a.id0c2cf0,b=u.a.e53e9aef,y=u.a.e4eb16d1,M=u.a.b100a11d,E=u.a.h13d897c,S=u.a.g2b9c3a5({limit:15}),C=u.a.b136cd39({limit:15}),w=u.a.f2ca1089,P=u.a.i7c12131,I=u.a.c2709b62({limit:5}),R=u.a.a72a7043,D=u.a.ce81797f,x=u.a.fd7d9019,B=u.a.ia8c3b9f,O=u.a.f05999ce,A=u.a.g016879d,L=u.a.fe17e260,T=function(e){return{text:e}},j=function(e){return{text:e,actionLabel:x,actionLink:"https://support.twitter.com/articles/20156423"}},U=function(e){return{text:e,actionLabel:x,actionLink:"https://help.twitter.com/en/using-twitter/twitter-videos"}},F=((n={})[m.e.GIF_IS_TOO_LARGE]=T(S),n[m.e.CANNOT_BE_PROCESSED]=T(v),n[m.e.FILE_IS_NOT_AN_IMAGE]=T(g),n),G=((i={})[f.m.GIF_IS_TOO_LARGE]=T(S),i[f.m.VIDEO_IS_TOO_LARGE]=T(C),i),N=((r={})[h.b.ZERO_FILE_LENGTH]=T(_),r[h.b.TIMEOUT]=T(B),r),k=Object.assign({},N,((o={})[h.b.FILE_TOO_LARGE]=T(I),o[h.b.UNSUPPORTED_MEDIA]=j(P),o[h.b.INVALID_MEDIA]=j(w),o)),V=Object.assign({},N,((l={})[h.b.FILE_TOO_LARGE]=T(S),l[h.b.UNSUPPORTED_MEDIA]=j(y),l[h.b.INVALID_MEDIA]=j(b),l)),z=Object.assign({},N,((d={})[h.b.FILE_TOO_LARGE]=T(C),d[h.b.UNSUPPORTED_MEDIA]=U(E),d[h.b.INVALID_MEDIA]=U(M),d)),W=function(e){var t=e.type;return"resize"===t||"upload"===t||"metadata"===t||"maxsize"===t},K=function(e){switch(e.type){case"maxsize":return G[e.code];case"resize":return F[e.code];case"upload":if(e.isImage)return k[e.code];if(e.isGif)return V[e.code];if(e.isVideo)return z[e.code];break;case"metadata":return T(L)}}},"9Kq5":function(e,t,a){"use strict";var n=a("lt8z"),i=a.n(n),r=a("Z8+c"),o=a.n(r),l=(a("y9m4"),a("fx22"),a("WgSQ"),a("1A13"),a("beEN"),a("M1I4")),d=a.n(l),s=a("86MP"),c=a.n(s),u=a("fKPv"),f=a.n(u),h=a("GiK3"),p=a("z9yJ"),m=a("Z1LJ"),v=a("bndy"),_=a("OMex"),g=a("hviW"),b=Object(v.createSelector)(_.i,function(e){return{dataSaverMode:e}}),y={addToast:p.b,addMediaUpload:g.b,removeMediaUpload:g.d,processMedia:g.c},M=Object(m.e)(b,y),E=a("3f1i"),S=a("jH3T"),C=a.n(S),w=a("7P/m"),P=a("kjWL"),I=a.n(P),R=a("I23d"),D=a("LH19"),x=a.n(D),B=a("jYKd"),O=a.n(B),A=C.a.b1934ea8,L=h.createElement(I.a,null),T=function(e){function t(){return e.apply(this,arguments)||this}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.acceptGifs,a=e.acceptVideo,n=e.style,r=o()(e,["acceptGifs","acceptVideo","style"]),l=[w.b].concat(t?w.a:[]).concat(a?R.a:[]).join(",");return h.createElement(x.a,i()({},r,{accept:l,style:[j.root,n]}))},t}(h.PureComponent);f()(T,"defaultProps",{acceptGifs:!0,acceptVideo:!0,accessibilityLabel:A,icon:L,size:"normal"});var j=O.a.create(function(e){return{root:{margin:"-"+e.spaces.xSmall}}}),U=T,F=a("8Mxi"),G=a.n(F),N=a("pDlh"),k=a.n(N),V=a("7q6/"),z=(a("KSGD"),a("8JKY")),W=C.a.cfe49729,K=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,f()(d()(t),"_handleChange",function(e){var a=t.props,n=a.addToast,i=a.addMediaUpload,r=a.onChange,o=a.removeMediaUpload,l=a.validator,d=a.validationFailedMessage,s=a.maxImageSize,c=a.maxGifSize,u=a.maxVideoSize,f=Array.from(e,function(e){return Object(R.d)(e)?new R.c(e).withDimensionsAndOrientation():new w.c(e).withDimensionsAndOrientation()}),h=t._getTargetImageSizes(s),p=Promise.all(f);Promise.all([h,p]).then(function(e){var a=e[0],s=a.maxImageSize,f=a.maxImageDimension,h=e[1],p=i(h,{maxGifSize:c,maxImageSize:s,maxVideoSize:u},f),m=p.map(function(e){return e.id});l(p)?(r(m),t._processMedia(p)):(d&&n({text:d}),o(m))},function(e){var t=Object(z.b)(e);t&&n(t)})}),f()(d()(t),"_getTargetImageSizes",function(e){var a=t.props.dataSaverMode,n=V.a.isDesktopOS()?4096:2048;return G.a.getConnectionInfo().then(function(i){var r=e;return"slow-2g"===i.effectiveType?r=1024*E.a.getNumberValue("responsive_web_media_upload_limit_slow_2g",150):a||"2g"===i.effectiveType?r=1024*E.a.getNumberValue("responsive_web_media_upload_limit_2g",250):"3g"===i.effectiveType?r=1024*E.a.getNumberValue("responsive_web_media_upload_limit_3g",1500):"4g"!==i.effectiveType||V.a.isDesktopOS()||(n=4096),{maxImageDimension:Math.min(n,t.props.maxImageDimension),maxImageSize:Math.min(e,r)}},function(){return{maxImageDimension:Math.min(n,t.props.maxImageDimension),maxImageSize:e}})}),t}c()(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.accessibilityLabel,a=(e.addMediaUpload,e.addToast,e.dataSaverMode,e.maxGifSize,e.maxImageDimension,e.maxImageSize,e.maxVideoSize,e.onChange,e.onFailure,e.processMedia,e.removeMediaUpload,e.validationFailedMessage,e.validator,e.onRef,o()(e,["accessibilityLabel","addMediaUpload","addToast","dataSaverMode","maxGifSize","maxImageDimension","maxImageSize","maxVideoSize","onChange","onFailure","processMedia","removeMediaUpload","validationFailedMessage","validator","onRef"]));return h.createElement(U,i()({accessibilityLabel:t,onChange:this._handleChange},a))},a.componentDidMount=function(){var e=this,t=this.props.onRef;t&&t({addMedia:function(t){return e._handleChange(t)}})},a.componentWillUnmount=function(){var e=this.props.onRef;e&&e(void 0)},a._processMedia=function(e){var t=this.props,a=t.addToast,n=t.onFailure,i=t.processMedia;!function e(t){if(t.length){var r=t[0];k()(function(){i(r.id).then(function(){return e(t.slice(1))},function(i){var o=Object(z.a)(i,W);o&&a(o),n&&n(r.id),e(t.slice(1))})})}}(e)},t}(h.Component);f()(K,"defaultProps",{maxImageDimension:2048,validator:function(){return!0}});t.a=M(K)},CHw2:function(e,t,a){"use strict";var n=a("M1I4"),i=a.n(n),r=a("86MP"),o=a.n(r),l=a("fKPv"),d=a.n(l),s=a("GiK3"),c=a("QumW"),u=a("/GoK"),f=a("3f1i"),h=a("7P/m"),p=a("jH3T"),m=a.n(p),v=a("thTC"),_=a.n(v),g=a("yK8q"),b=a.n(g),y=a("IIZ1"),M=(a("uwYN"),a("i2DS")),E=a.n(M),S=a("jYKd"),C=a.n(S),w=(a("KSGD"),a("UvVB")),P=a.n(w),I=a("MjES"),R=a.n(I),D=m.a.a54d17e1,x=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,d()(i()(t),"state",{imagePreviewUrl:null}),d()(i()(t),"_getImageSrc",function(){var e=t.props,a=e.mediaItem,n=e.enableGif,i=t.state.imagePreviewUrl;if(a&&a.mediaFile)return a.mediaFile.isGif&&!n?i:a.mediaFile.url}),t}o()(t,e);var a=t.prototype;return a.componentDidUpdate=function(){var e=this,t=this.props,a=t.enableGif,n=t.mediaItem.mediaFile,i=this.state.imagePreviewUrl;a||i||n instanceof h.c&&n.isGif&&Object(h.g)(n).then(function(t){e.setState({imagePreviewUrl:t})})},a.shouldComponentUpdate=function(e,t){return!Object(y.isEqual)(e,this.props)||!Object(y.isEqual)(t,this.state)},a.render=function(){var e=this.props,t=e.borderRadius,a=e.enableGif,n=e.mediaItem,i=e.onClick,r=(this.state||{}).imagePreviewUrl,o=n.mediaFile&&n.mediaFile.isGif&&!a&&!r,l=n.needsProcessing||o,d=[O.root,B[t],l&&O.loadingBorder],c=this._getImageSrc();return s.createElement(R.a,{onClick:i,style:d},l||!c?s.createElement(E.a,{accessibilityLabel:D,style:O.activityIndicator}):s.createElement(P.a,{resizeMode:"cover",source:c,style:O.image}))},t}(s.Component);d()(x,"defaultProps",{borderRadius:"none",enableGif:!0});var B=C.a.create(function(e){return{infinite:{borderRadius:e.borderRadii.infinite},medium:{borderRadius:e.borderRadii.medium},none:{borderRadius:0}}}),O=C.a.create(function(e){return{root:{borderRadius:e.borderRadii.large,borderStyle:"solid",borderWidth:0,borderColor:"transparent",maxWidth:"100%",height:"100%",overflow:"hidden"},image:{display:"block",height:"100%",width:"100%"},loadingBorder:{borderColor:e.colors.mediumGray},activityIndicator:{height:"100%"}}}),A=x,L=a("id1N"),T=a("doMp"),j=a("fF1d"),U=a.n(j),F=a("Xwuh"),G=a.n(F),N=(a("SU+a"),a("H0mh"),a("5NwS")),k=a.n(N),V=a("bPls"),z=a.n(V),W=a("Mpbj"),K=a.n(W),H=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){var e,t=this.props,a=t.durationInMilliseconds,n=t.type;if("animated_gif"===n||"vine"===n)e="animated_gif"===n?s.createElement(k.a,{style:Y.icon}):s.createElement(z.a,{style:Y.icon});else if("video"===n&&a){var i=Math.trunc(a/6e4),r=("0"+Math.trunc(a%6e4/1e3)).slice(-2);e=s.createElement(K.a,{color:"white"},i+":"+r)}return e?s.createElement(R.a,{style:Y.root},e):null},t}(s.PureComponent),Y=C.a.create(function(e){return{root:{alignItems:"center",backgroundColor:e.colors.translucentBlack30,borderRadius:e.borderRadii.small,height:e.spaces.medium,paddingHorizontal:e.spaces.micro,justifyContent:"center"},icon:{color:e.colors.white}}}),X=H,q=(a("5nt5"),m.a.b2e1930b),Z=m.a.c650c591,Q=m.a.i82022e8,J=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,d()(i()(t),"state",{isVideoPaused:!0}),d()(i()(t),"_handleMediaPreviewLayout",function(e){var a=t.props,n=a.mediaItem,i=a.resizeIfNeeded,r=n.mediaFile||n.externalMediaDetails;if(r){var o=e.nativeEvent.layout,l=o.height,d=o.width,s=r.height,c=r.width/s;c!==d/l&&t._mediaContainer&&("width"===i?t._mediaContainer.setNativeProps({style:{width:l*c}}):"height"===i&&t._mediaContainer.setNativeProps({style:{height:d/c}}))}}),d()(i()(t),"_handleVideoOnPlay",function(e){t.setState({isVideoPaused:!1})}),d()(i()(t),"_handleVideoOnPause",function(e){t.setState({isVideoPaused:!0})}),d()(i()(t),"_setMediaContainerRef",function(e){t._mediaContainer=e}),d()(i()(t),"_setVideoRef",function(e){t._video=e}),d()(i()(t),"_playVideo",function(){t._video&&(t._video.play(),t._handleVideoOnPlay())}),d()(i()(t),"_pauseVideo",function(){t._video&&(t._video.pause(),t._handleVideoOnPause())}),t}o()(t,e);var a=t.prototype;return a.render=function(){var e=this,t=this.props,a=t.accessibilityRole,n=t.enableGif,i=t.mediaItem,r=t.onEdit,o=t.onRemove,l=t.style,d=t.withAltTextBadge,p=t.withCloseButton,m=t.withEditButton,v=n&&i.mediaFile&&i.mediaFile.isGif||i.externalMediaDetails&&i.externalMediaDetails.mediaType===h.a;return s.createElement(G.a,null,function(t){var n=t.windowWidth,i=u.a.isTwoColumnLayout(n);return s.createElement(R.a,{accessibilityRole:a,onLayout:e._handleMediaPreviewLayout,ref:e._setMediaContainerRef,style:l},e._renderPreview(),p?s.createElement(U.a,{accessibilityLabel:Q,icon:s.createElement(_.a,null),onPress:o,size:"small",style:f.a.isTrue("responsive_web_alt_text_by_default_enabled")?$.close:$.oldClose,type:"onMedia"}):null,v?s.createElement(R.a,{style:$.videoBadge},s.createElement(X,{type:"animated_gif"})):null,d?s.createElement(c.a,null):null,m?s.createElement(U.a,{accessibilityLabel:q,icon:f.a.isTrue("responsive_web_alt_text_by_default_enabled")&&i?void 0:s.createElement(b.a,null),onPress:r,size:f.a.isTrue("responsive_web_alt_text_by_default_enabled")&&i?"normalCompact":"small",style:f.a.isTrue("responsive_web_alt_text_by_default_enabled")?$.edit:$.oldEdit,type:"onMedia"},f.a.isTrue("responsive_web_alt_text_by_default_enabled")&&i&&Z):null)})},a._renderPreview=function(){var e=this.props.mediaItem;if(e.externalMediaDetails){var t=e.externalMediaDetails,a=[{content_type:t.previewMediaType,url:t.previewUrl}];return this._renderVideoPreview(a)}if(e.mediaFile&&e.mediaFile.isVideo){var n=[{content_type:e.mediaFile.type,url:e.mediaFile.url}];return this._renderVideoPreview(n,!0)}return s.createElement(R.a,{style:C.a.absoluteFill},this._renderImagePreview())},a._renderImagePreview=function(){var e=this.props,t=e.borderRadius,a=e.enableGif,n=e.mediaItem,i=e.onClick;return s.createElement(A,{borderRadius:t,enableGif:a,mediaItem:n,onClick:i})},a._renderVideoPreview=function(e,t){void 0===t&&(t=!1);var a=s.createElement(L.a,{autoPlay:!1,controls:t,getVideoRef:this._setVideoRef,loop:!0,muted:!0,onPause:this._handleVideoOnPause,onPlay:this._handleVideoOnPlay,playsInline:!0,style:$.video,variants:e});return t?a:s.createElement(T.a,{isPaused:this.state.isVideoPaused,pauseVideo:this._pauseVideo,playVideo:this._playVideo},a)},t}(s.Component);d()(J,"defaultProps",{enableGif:!0,withAltTextBadge:!1,withCloseButton:!0,withEditButton:!1});var $=C.a.create(function(e){return{close:{position:"absolute",left:e.spaces.xxSmall,top:e.spaces.xxSmall},oldClose:{position:"absolute",right:e.spaces.xxSmall,top:e.spaces.xxSmall},edit:{position:"absolute",right:e.spaces.xxSmall,top:e.spaces.xxSmall},oldEdit:{position:"absolute",right:e.spaces.xxSmall,bottom:e.spaces.xxSmall},video:{height:"100%",width:"100%"},videoBadge:{position:"absolute",left:e.spaces.xSmall,bottom:e.spaces.xSmall}}});t.a=J},GfdX:function(e,t,a){"use strict";var n=a("rzQm"),i=a.n(n),r=a("M1I4"),o=a.n(r),l=a("86MP"),d=a.n(l),s=a("fKPv"),c=a.n(s),u=a("GiK3"),f=(a.n(u),a("IIZ1")),h=a("jH3T"),p=a.n(h),m=a("/8xP"),v=a.n(m),_=a("thTC"),g=a.n(_),b=a("9Kq5"),y=a("CHw2"),M=(a("uwYN"),a("fc63")),E=a.n(M),S=a("fF1d"),C=a.n(S),w=a("ydcI"),P=a.n(w),I=a("jYKd"),R=a.n(I),D=a("KSGD"),x=(a.n(D),a("MjES")),B=a.n(x),O=a("5nt5"),A=(a.n(O),p.a.d48f8353),L=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,c()(o()(t),"_handleMediaPickerRef",function(e){t._mediaPickerRef=e}),c()(o()(t),"_getAcceptedFileInputs",function(){var e=t.props,a=e.acceptGifs,n=e.acceptVideo,r=["image/png","image/jpeg"];return a&&(r=[].concat(i()(r),["image/gif"])),n&&(r=[].concat(i()(r),["video/webm","video/ogg","video/quicktime"])),r}),c()(o()(t),"_handleAddMediaFiles",function(e){return t._mediaPickerRef&&t._mediaPickerRef.addMedia(e)}),c()(o()(t),"_handleDragDrop",function(e){var a=Object(f.head)(e),n=t._getAcceptedFileInputs();a&&n.indexOf(a.type)>-1&&t._handleAddMediaFiles([a])}),t}d()(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.borderRadius,a=e.maskStyle,n=e.mediaItem,i=e.onRemove,r=e.rootStyle,o=n&&!n.uploader;return u.createElement(B.a,{style:[j.container,r,T[t]]},u.createElement(P.a,{onFilesAdded:this._handleDragDrop,style:[j.dragDropContainer,T[t]]},this._renderPreview(),o?null:u.createElement(u.Fragment,null,u.createElement(B.a,{style:[j.mask,a,T[t]]}),u.createElement(B.a,{style:j.mediaPicker},this._renderMediaPicker(),i?this._renderMediaRemove():null))))},a._renderMediaRemove=function(){var e=this.props.onRemove;return u.createElement(C.a,{accessibilityLabel:A,icon:u.createElement(g.a,null),onPress:e,style:j.remove,type:"invertedText"})},a._renderMediaPicker=function(){var e=this.props,t=e.acceptGifs,a=e.acceptVideo,n=e.accessibilityLabel,i=e.maxGifSize,r=e.maxImageDimension,o=e.maxImageSize,l=e.onChange,d=e.onFailure;return u.createElement(b.a,{acceptGifs:t,acceptVideo:a,accessibilityLabel:n,icon:u.createElement(v.a,null),maxGifSize:i,maxImageDimension:r,maxImageSize:o,onChange:l,onFailure:d,onRef:this._handleMediaPickerRef,type:"invertedText"})},a._renderPreview=function(){var e=this.props,t=e.aspectRatio,a=e.borderRadius,n=e.currentContent,i=e.mediaItem;return i?u.createElement(E.a,{ratio:t},u.createElement(y.a,{borderRadius:a,enableGif:!1,mediaItem:i,style:j.mediaPreview,withCloseButton:!1})):n},t}(u.Component);c()(L,"defaultProps",{acceptGifs:!1,acceptVideo:!1,aspectRatio:1,borderRadius:"none"});var T=R.a.create(function(e){return{infinite:{borderRadius:e.borderRadii.infinite},medium:{borderRadius:e.borderRadii.medium},none:{borderRadius:0}}}),j=R.a.create(function(e){return{mediaPreview:{height:"100%"},mediaPicker:{alignItems:"center",flexDirection:"row",height:"100%",justifyContent:"center",opacity:.75,position:"absolute",top:0,width:"100%"},remove:{marginLeft:e.spaces.large},mask:{backgroundColor:e.colors.translucentBlack30,height:"100%",position:"absolute",top:0,width:"100%"},container:{justifyContent:"center",overflow:"hidden"},dragDropContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.transparent,borderStyle:"solid"}}});t.a=L},I23d:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"d",function(){return o}),a.d(t,"b",function(){return l}),a.d(t,"c",function(){return d});var n=a("EuXz"),i=(a.n(n),a("y9m4")),r=(a.n(i),["video/mp4","video/quicktime"]),o=function(e){return-1!==r.indexOf(e.type)},l={type:"video-load",NO_DIMENSIONS:10,LOAD_FAILED:11,TOO_LARGE:12},d=function(){function e(e){this.fileHandle=e,this.name=e.name,this.size=e.size,this.type=e.type,this.url=window.URL.createObjectURL(this.fileHandle),this.isVideo=!0,this.isImage=!1,this.isGif=!1}return e.prototype.withDimensionsAndOrientation=function(){var e,t=this;return(e=this.url,new Promise(function(t,a){var n=function(e,t){var n=new Error(e),i=[t,l.type];n.code=i[0],n.type=i[1],a(n)},i=document.createElement("video");i.onloadedmetadata=function(){i.videoWidth&&i.videoHeight?t(i):n("Video lacks height or width",l.NO_DIMENSIONS)},i.onerror=function(){n("Error loading image",l.LOAD_FAILED)},i.src=e})).then(function(e){var a=e.videoWidth,n=e.videoHeight;return t.width=a,t.height=n,t.video=e,t})},e}()},KM5a:function(e,t,a){"use strict";var n=a("R6lU");t.__esModule=!0,t.default=void 0;var i=n(a("lt8z")),r=n(a("Z8+c")),o=n(a("86MP")),l=n(a("M1I4")),d=n(a("fKPv")),s=n(a("GiK3")),c=n(a("vuwl")),u=n(a("O27J")),f=n(a("a05n")),h=n(a("MjES")),p=(n(a("5nt5")),function(e,t){return Math.sqrt(Math.pow(e.clientY-t.clientY,2)+Math.pow(e.clientX-t.clientX,2))}),m=function(e,t){return{clientX:Math.min(t.clientX,e.clientX)+Math.abs(t.clientX-e.clientX)/2,clientY:Math.min(t.clientY,e.clientY)+Math.abs(t.clientY-e.clientY)/2}},v=function(e){function t(t){var a;return a=e.call(this,t)||this,(0,d.default)((0,l.default)((0,l.default)(a)),"_previousTouchDistance",0),(0,d.default)((0,l.default)((0,l.default)(a)),"_previousPositionX",0),(0,d.default)((0,l.default)((0,l.default)(a)),"_previousPositionY",0),(0,d.default)((0,l.default)((0,l.default)(a)),"_centerPosition",{x:0,y:0}),(0,d.default)((0,l.default)((0,l.default)(a)),"_panResponder",{}),(0,d.default)((0,l.default)((0,l.default)(a)),"_setRef",function(e){var t=a.props,n=t.onPanMove,i=t.onPanEnd,r=t.onPinchMove,o=t.onWheel,l=u.default.findDOMNode(e);if(l instanceof window.HTMLElement){(n||i||r)&&(a._removeTouchMoveToScrollListener=(0,c.default)(l,"touchmove",a._preventDefaultEvent,!1)),o&&(a._removeScrollToScaleListener=(0,c.default)(l,"wheel",a._preventDefaultEvent,!1));var d=l.getBoundingClientRect();a._centerPosition={x:d.width/2+d.left,y:d.height/2+d.top}}}),(0,d.default)((0,l.default)((0,l.default)(a)),"_preventDefaultEvent",function(e){e.preventDefault()}),(0,d.default)((0,l.default)((0,l.default)(a)),"_handlePanResponderMove",function(e,t){var n=a.props,i=n.onPinchMove,r=n.onPanMove,o=e.nativeEvent.touches;if(2===o.length){if(i){var l=p(o[0],o[1]),d=m(o[0],o[1]),s=d.clientX,c=d.clientY,u=a._previousPositionX?s-a._previousPositionX:0,f=a._previousPositionY?c-a._previousPositionY:0,h=a._previousTouchDistance?l-a._previousTouchDistance:0;a._previousPositionX=s,a._previousPositionY=c,a._previousTouchDistance=l;var v=a._centerPosition;i(h,v.x-s,v.y-c,u,f)}}else r&&r(t.dx,t.dy)}),(0,d.default)((0,l.default)((0,l.default)(a)),"_handlePanResponderEnd",function(e,t){a.props.onPanEnd&&a.props.onPanEnd(t.dx,t.dy),a.props.onPinchMove&&(a._previousTouchDistance=0),a._previousPositionX=0,a._previousPositionY=0}),(0,d.default)((0,l.default)((0,l.default)(a)),"_handleWheel",function(e){var t=e.clientX,n=e.clientY,i=e.deltaX,r=e.deltaY,o=a._centerPosition,l=o.x-t,d=o.y-n;a.props.onWheel&&a.props.onWheel(i,r,l,d)}),a._panResponder=f.default.create({onStartShouldSetPanResponder:function(){return!0},onMoveShouldSetPanResponder:function(){return!0},onPanResponderMove:a._handlePanResponderMove,onPanResponderRelease:a._handlePanResponderEnd,onPanResponderTerminate:a._handlePanResponderEnd}),a}(0,o.default)(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=(e.onWheel,e.onPanMove,e.onPanEnd,e.onPinchMove,e.children,(0,r.default)(e,["onWheel","onPanMove","onPanEnd","onPinchMove","children"]));return s.default.createElement(h.default,(0,i.default)({},t,{onWheel:this._handleWheel,ref:this._setRef},this._panResponder.panHandlers),this.props.children)},a.componentWillUnmount=function(){this._removeTouchMoveToScrollListener&&this._removeTouchMoveToScrollListener(),this._removeScrollToScaleListener&&this._removeScrollToScaleListener()},t}(s.default.Component);t.default=v},LH19:function(e,t,a){"use strict";var n=a("R6lU");t.__esModule=!0,t.default=void 0;var i=n(a("lt8z")),r=n(a("Z8+c")),o=n(a("86MP")),l=n(a("M1I4")),d=n(a("fKPv")),s=n(a("GiK3")),c=n(a("fF1d")),u=n(a("x5lS")),f=n(a("jYKd")),h=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,(0,d.default)((0,l.default)((0,l.default)(t)),"_handlePress",function(e){var a=t.props.onPress;a&&a(e),t._fileInput&&t._fileInput.click()}),(0,d.default)((0,l.default)((0,l.default)(t)),"_handleChange",function(e){var a=t.props.onChange,n=e.target,i=n.files;i.length&&a&&a(i),n.value=""}),(0,d.default)((0,l.default)((0,l.default)(t)),"_handleFileInputButtonRef",function(e){t._fileInput=e}),t}return(0,o.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.accept,a=e.disabled,n=e.multiple,o=(e.onChange,(0,r.default)(e,["accept","disabled","multiple","onChange"]));return s.default.createElement(s.default.Fragment,null,s.default.createElement(c.default,(0,i.default)({},o,{disabled:a,onPress:this._handlePress})),(0,u.default)("input",{accept:t,disabled:a,multiple:n,onChange:this._handleChange,ref:this._handleFileInputButtonRef,style:p.input,tabIndex:-1,type:"file"}))},t}(s.default.Component);(0,d.default)(h,"defaultProps",{disabled:!1,multiple:!1});var p=f.default.create(function(e){return{input:{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1}}}),m=h;t.default=m},N4KQ:function(e,t,a){var n=a("Ds5P");n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},NNCV:function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,a("n12u");var n=o(a("x5lS")),i=o(a("GiK3")),r=o(a("sT3W"));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return void 0===e&&(e={}),(0,n.default)("svg",Object.assign({},e,{style:[r.default.root,e.style],viewBox:"0 0 24 24"}),i.default.createElement("g",null,i.default.createElement("path",{d:"M19.75 19.89H4.25C3.01 19.89 2 18.88 2 17.64v-7.28c0-1.24 1.01-2.25 2.25-2.25h15.5c1.24 0 2.25 1.01 2.25 2.25v7.277c0 1.24-1.01 2.25-2.25 2.25zM4.25 9.61c-.413 0-.75.338-.75.75v7.278c0 .413.337.75.75.75h15.5c.413 0 .75-.337.75-.75V10.36c0-.412-.337-.75-.75-.75H4.25z"})))};l.metadata={height:24,width:24};var d=l;t.default=d},XvQo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("EuXz"),a("VjuZ"),a("n12u"),a("fx22"),a("WgSQ"),a("tJwI");var n=a("M1I4"),i=a.n(n),r=a("86MP"),o=a.n(r),l=a("fKPv"),d=a.n(l),s=a("GiK3"),c=a("9w+k"),u=a("7t5w"),f=a("qX3G"),h=a("hviW"),p=a("ZHcj"),m=a("z9yJ"),v=a("Z1LJ"),_=a("sLaq"),g=a("bndy"),b=a("IIZ1"),y=Object(g.createSelector)(f.a,f.b,function(e,t){var a=p.f(e);return(Object(b.isFinite)(a)?h.f(e,a):[])[0]},function(e,t){var a=p.g(e);return(Object(b.isFinite)(a)?h.f(e,a):[])[0]},function(e,t,a,n){return{canGoBack:e,loggedInUser:t,avatarMedia:a,bannerMedia:n}}),M={addAvatarMedia:p.a,addBannerMedia:p.b,addToast:m.b,createLocalApiErrorHandler:Object(_.b)("SETTINGS_PROFILE_SCREEN"),googleAnalyticsPageView:u.a,removeAvatarMedia:p.c,removeBannerMedia:p.d,removeMediaUpload:h.d,removeProfileBanner:p.e,scribeAction:u.c,scribePageImpression:u.d,updateProfile:p.h,updateProfileAvatar:p.i,updateProfileBanner:p.j},E=Object(v.e)(y,M),S=a("3f1i"),C=a("eB+D"),w=a("Y+r2"),P=a("GfdX"),I=(a("SU+a"),a("gRCs")),R=a.n(I),D=a("Ydoy"),x=R()({loader:function(){return Promise.all([a.e("shared"),a.e("ondemand.EditBirthdate")]).then(a.bind(null,"c0pq"))},renderPlaceholder:function(e,t){return s.createElement(D.a,{error:e,onRetry:t})}}),B=a("jH3T"),O=a.n(B),A=a("iY3t"),L=a("vBQ+"),T=a("MjES"),j=a.n(T),U=a("Mpbj"),F=a.n(U),G=a("iSbn"),N=a.n(G),k=a("jYKd"),V=a.n(k),z=O.a.ie4427bf,W=O.a.c650c591,K=O.a.f4c9593e,H=O.a.icc1774d,Y={headline:O.a.bb815634,text:O.a.g73ab163,confirmButtonLabel:O.a.c650c591},X=function(e){function t(t){var a;return a=e.call(this,t)||this,d()(i()(a),"_handleModalCancel",function(){a.setState({showConfirmationModal:!1})}),d()(i()(a),"_handleModalConfirmed",function(){a.setState({isEditing:!0,showConfirmationModal:!1})}),d()(i()(a),"_handleEditPress",function(){a.setState({showConfirmationModal:!0})}),d()(i()(a),"_handleRemoveBirthdate",function(){var e=a.props.onRemoveBirthdate;a.setState({isEditing:!1}),e()}),d()(i()(a),"_handleCancelEditPress",function(){a.props.onCancelEditBirthdate(),a.setState({isEditing:!1})}),a.state={isEditing:!1,showConfirmationModal:!1},a}o()(t,e);var a=t.prototype;return a.render=function(){var e=this.state.isEditing,t=this.props,a=t.birthdate,n=t.errors,i=t.onChange,r=t.showBirthdateRemoveButton,o=a.month&&a.day&&a.year;return s.createElement(j.a,{style:q.root},s.createElement(j.a,{style:q.container},e?s.createElement(F.a,{weight:"bold"},z):s.createElement(F.a,{color:"deepGray"},z),s.createElement(N.a,null),s.createElement(F.a,{accessibilityRole:"button",color:"link",onPress:e?this._handleCancelEditPress:this._handleEditPress,testID:e?A.a.cancel:A.a.edit,withInteractiveStyling:!0},e?K:W)),e?s.createElement(x,{birthdate:a,errors:n,onChange:i,onRemoveBirthdate:this._handleRemoveBirthdate,showBirthdateRemoveButton:r}):s.createElement(F.a,{size:"large"},o?s.createElement(L.a,{birthdate:a}):H),this._renderConfirmationModal())},a._renderConfirmationModal=function(){return this.state.showConfirmationModal?s.createElement(c.a,{confirmButtonLabel:Y.confirmButtonLabel,headline:Y.headline,onCancel:this._handleModalCancel,onConfirm:this._handleModalConfirmed,text:Y.text,withForwardFocusOnConfirm:!0}):null},t}(s.Component),q=V.a.create(function(e){return{root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.small},container:{flexDirection:"row"},containerItem:{marginLeft:e.spaces.xxSmall}}}),Z=a("sfIW"),Q=a("IR0a"),J=a("x8ky"),$=a("Bs+p"),ee=a.n($),te=(a("uwYN"),a("fc63")),ae=a.n(te),ne=a("fF1d"),ie=a.n(ne),re=a("yV+M"),oe=a.n(re),le=a("tQ79"),de=a.n(le),se=(a("KSGD"),a("8JKY")),ce=a("UvVB"),ue=a.n(ce),fe=a("UDB1");a.d(t,"ProfileScreen",function(){return Be});var he=O.a.fe80c9ca,pe=O.a.e8e530e9,me=O.a.a6766a9e,ve=O.a.dcdcf3e4,_e=O.a.g81fed0b,ge=O.a.b1ae83f4,be=O.a.bfe77df7,ye=O.a.j78796df,Me=O.a.e4cb8f8f,Ee=O.a.c2f43040,Se=20,Ce={page:"settings",section:"profile"},we=O.a.d4a8052c,Pe=O.a.g9e6aeae,Ie=O.a.c35b179d,Re=O.a.eefb8935,De={confirmButtonLabel:O.a.b6058163,headline:O.a.h491c0d1},xe={visibility:Z.a.MUTUAL_FOLLOW,year_visibility:Z.a.SELF},Be=function(e){function t(t){var a;a=e.call(this,t)||this,d()(i()(a),"_handleCancel",function(){var e=a.props,t=e.canGoBack,n=e.history,i=e.loggedInUser;if(t)n.goBack();else{var r=i?"/"+i.screen_name:"/login";n.push(r)}}),d()(i()(a),"_handleSubmit",function(){var e=a._getBirthdateErrors();Object.keys(e).length?a.setState({errors:e}):a._shouldShowBirthdateConfirmationModal()?a.setState({showBirthdateConfirmationModal:!0}):a._saveChanges()}),d()(i()(a),"_getBirthdateErrors",function(){var e=a.state.birthdate,t={};return e!==xe&&["day","month","year"].forEach(function(a){e[a]||(t[a]=!0)}),t}),d()(i()(a),"_shouldShowBirthdateConfirmationModal",function(){var e=a.props.loggedInUser,t=a.state.birthdate,n=["day","month","year"].every(function(e){return!!t[e]}),i=e&&e.birthdate||xe,r=!Object(b.isEqual)(i,t);return n&&r}),d()(i()(a),"_handleBirthdateModalCancel",function(){a.setState({showBirthdateConfirmationModal:!1})}),d()(i()(a),"_handleBirthdateModalConfirm",function(){a.setState({showBirthdateConfirmationModal:!1}),a._scribeBirthdateAddOrEdit(),a._saveChanges()}),d()(i()(a),"_handleBirthdateChange",function(e){var t=a.state,n=t.birthdate,i=t.errors,r=Object.assign({},i);Object.keys(i).forEach(function(t){e[t]&&i[t]&&delete r[t]}),a.setState({birthdate:Object.assign({},n,e),errors:r})}),d()(i()(a),"_handleResetBirthdate",function(){var e=a.props.loggedInUser&&a.props.loggedInUser.birthdate;a.setState({birthdate:e||xe,errors:{}})}),d()(i()(a),"_handleRemoveBirthdate",function(){var e=a.props,t=e.updateProfile,n=e.createLocalApiErrorHandler;(0,e.scribeAction)(Object.assign({},Ce,{component:"birthdate",action:"remove"})),t({birthdate_day:0,birthdate_month:0,birthdate_year:0}).then(function(){a.setState({birthdate:xe,errors:{}})}).catch(n({showToast:!0}))}),d()(i()(a),"_handleAvatarMediaChange",function(e){var t=e[0],n=a.props,i=n.addAvatarMedia,r=n.avatarMedia;r&&a._clearAvatarMedia(r.id),i(t),a.setState({showAvatarCropper:S.a.isTrue("responsive_web_media_avatar_crop_enabled")})}),d()(i()(a),"_handleAvatarCropDone",function(){return a.setState({showAvatarCropper:!1})}),d()(i()(a),"_handleAvatarCropCancel",function(){return a._handleAvatarCropDone()}),d()(i()(a),"_handleBannerMediaChange",function(e){var t=e[0],n=a.props,i=n.addBannerMedia,r=n.bannerMedia;r&&a._clearBannerMedia(r.id),i(t),a.setState({showBannerCropper:S.a.isTrue("responsive_web_media_avatar_crop_enabled")})}),d()(i()(a),"_handleBannerCropDone",function(){return a.setState({showBannerCropper:!1})}),d()(i()(a),"_handleBannerCropCancel",function(){return a._handleBannerCropDone()}),d()(i()(a),"_handleBannerMediaRemove",function(){var e=a.props.bannerMedia;e?a._clearBannerMedia(e.id):a.setState({shouldDeleteBanner:!0})}),d()(i()(a),"_handleAvatarMediaFailure",function(e){a._clearAvatarMedia(e)}),d()(i()(a),"_handleBannerMediaFailure",function(e){a._clearBannerMedia(e)}),d()(i()(a),"_handleMediaUpdateFailureFactory",function(e,t){return function(n){var i=a.props,r=i.addToast,o=i.createLocalApiErrorHandler,l=i.removeMediaUpload;if(Object(se.c)(n)){var d=Object(se.a)(n,t);d&&r(d)}else o({showToast:!0})(n);l(e.id)}}),d()(i()(a),"_handleChangeName",function(e){a.setState({name:e.currentTarget.value})}),d()(i()(a),"_handleChangeDescription",function(e){a.setState({description:e.currentTarget.value})}),d()(i()(a),"_handleChangeLocation",function(e){a.setState({location:e.currentTarget.value})}),d()(i()(a),"_handleChangeURL",function(e){a.setState({url:e.currentTarget.value})});var n=t.loggedInUser;return a.state={displayNameMaxLength:S.a.getNumberValue("user_display_name_max_limit",Se),birthdate:n&&n.birthdate||xe,showBirthdateConfirmationModal:!1,errors:{},showAvatarCropper:!1,showBannerCropper:!1,shouldDeleteBanner:!1},a}o()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this.props,t=e.googleAnalyticsPageView,a=e.scribePageImpression,n=e.loggedInUser,i=e.history;n?(a(Ce),t(Ce),this._unlockReload=Q.a.acquire()):i.push("/login")},a.componentWillUnmount=function(){var e=this.props,t=e.avatarMedia,a=e.bannerMedia;t&&this._clearAvatarMedia(t.id),a&&this._clearBannerMedia(a.id),this._unlockReload()},a.render=function(){var e=this.props.loggedInUser;return e?this._render(e):null},a._render=function(e){var t=this.props,a=t.location,n=t.avatarMedia,i=t.bannerMedia,r=t.history,o=this.state,l=o.displayNameMaxLength,d=o.shouldDeleteBanner,c=o.showAvatarCropper,u=o.showBannerCropper,f=o.errors,h=e.entities.url,p=h&&h.urls?h.urls[0].expanded_url:null,m=s.createElement(de.a,{uri:e.profile_image_url_https}),v=i||e.profile_banner_url&&!d,_=s.createElement(ae.a,{ratio:V.a.theme.aspectRatios.profileBanner},v?s.createElement(ue.a,{source:{uri:e.profile_banner_url},style:Oe.banner}):null),g=e.description;null!==g&&ee.a.descriptionTextParts(g,e.entities).forEach(function(e){"url"===e.entityType&&(g=g.replace(e.url,e.displayUrl))});var b=!!(n&&!n.uploader||i&&!i.uploader)||!!Object.keys(f).length,y=s.createElement(ie.a,{disabled:b,onPress:this._handleSubmit,size:"normalCompact",testID:A.a.save,type:"primary"},Me);return s.createElement(C.b,{history:r,location:a,onBackClick:this._handleCancel,rightControl:y,title:he},s.createElement(j.a,{style:Oe.container},s.createElement(P.a,{accessibilityLabel:Re,aspectRatio:3,currentContent:_,maxImageDimension:fe.k,maxImageSize:fe.l,mediaItem:i,onChange:this._handleBannerMediaChange,onFailure:this._handleBannerMediaFailure,onRemove:v?this._handleBannerMediaRemove:void 0,rootStyle:Oe.bannerContainer}),s.createElement(P.a,{accessibilityLabel:Ie,borderRadius:"infinite",currentContent:m,maxGifSize:fe.h,maxImageDimension:fe.i,maxImageSize:fe.j,mediaItem:n,onChange:this._handleAvatarMediaChange,onFailure:this._handleAvatarMediaFailure,rootStyle:Oe.avatarContainer}),s.createElement(oe.a,{defaultValue:e&&e.name,label:pe,maxLength:l,name:"name",onChange:this._handleChangeName,placeholder:Ee}),s.createElement(oe.a,{defaultValue:g,label:_e,maxLength:160,multiline:!0,name:"description",numberOfLines:3,onChange:this._handleChangeDescription,placeholder:ge}),s.createElement(oe.a,{defaultValue:e&&e.location,label:be,maxLength:30,name:"location",onChange:this._handleChangeLocation,placeholder:ye}),s.createElement(oe.a,{defaultValue:p||"",label:me,maxLength:100,name:"url",onChange:this._handleChangeURL,placeholder:ve}),this._renderProfileBirthdate(),this._renderBirthdateConfirmationModal()),c?s.createElement(w.a,{circle:!0,defaultAspectRatio:1,location:a,media:n,onCancel:this._handleAvatarCropCancel,onDone:this._handleAvatarCropDone}):null,u?s.createElement(w.a,{defaultAspectRatio:3,location:a,media:i,onCancel:this._handleBannerCropCancel,onDone:this._handleBannerCropDone}):null)},a._renderProfileBirthdate=function(){var e=this.state,t=e.birthdate,a=e.errors,n=this.props.loggedInUser;return s.createElement(X,{birthdate:t,errors:a,onCancelEditBirthdate:this._handleResetBirthdate,onChange:this._handleBirthdateChange,onRemoveBirthdate:this._handleRemoveBirthdate,showBirthdateRemoveButton:!(!n||!n.birthdate)})},a._renderBirthdateConfirmationModal=function(){return this.state.showBirthdateConfirmationModal?s.createElement(c.a,{confirmButtonLabel:De.confirmButtonLabel,headline:De.headline,onCancel:this._handleBirthdateModalCancel,onConfirm:this._handleBirthdateModalConfirm,text:this._getBirthdateConfirmationModalText()}):null},a._getBirthdateConfirmationModalText=function(){var e=this.state.birthdate,t=e.day,a=e.month,n=e.year;return s.createElement(O.a.I18NFormatMessage,{$i18n:"edb3ab71"},s.createElement(L.a,{birthdate:{day:t,month:a,year:n}}))},a._saveChanges=function(){var e=this,t=this.props,a=t.avatarMedia,n=t.bannerMedia,i=t.createLocalApiErrorHandler,r=t.removeMediaUpload,o=t.updateProfile,l=t.updateProfileAvatar,d=t.updateProfileBanner,s=t.removeProfileBanner;if(a){var c=a.id;l(c).then(function(){return r(c)},this._handleMediaUpdateFailureFactory(a,we))}n?d(n.id).then(function(){return r(n.id)},this._handleMediaUpdateFailureFactory(n,Pe)):this.state.shouldDeleteBanner&&s().catch(i({showToast:!0})),o(this._getFormattedState()).then(function(){J.a.refreshHTMLCache(),e._handleCancel()}).catch(i({showToast:!0}))},a._getFormattedState=function(){var e=this.state,t=e.birthdate,a=e.displayNameMaxLength,n=e.url,i=e.name,r=e.description,o=e.location,l=t.day,d=t.month,s=t.year,c=t.visibility,u=t.year_visibility,f=l&&d&&s?{birthdate_day:l,birthdate_month:d,birthdate_year:s,birthdate_visibility:c,birthdate_year_visibility:u}:{};return Object.assign({},f,{displayNameMaxLength:a,url:n,name:i,description:r,location:o})},a._scribeBirthdateAddOrEdit=function(){var e=this.props,t=e.scribeAction,a=e.loggedInUser,n=a&&a.birthdate,i=n&&n.month&&n.day&&n.year?"edit":"add";t(Object.assign({},Ce,{component:"birthdate",action:i}))},a._clearAvatarMedia=function(e){var t=this.props,a=t.avatarMedia,n=t.removeAvatarMedia,i=t.removeMediaUpload;a&&a.uploading||i(e),n(e)},a._clearBannerMedia=function(e){var t=this.props,a=t.bannerMedia,n=t.removeBannerMedia,i=t.removeMediaUpload;a&&a.uploading||i(e),n(e)},t}(s.Component),Oe=V.a.create(function(e){return{avatarContainer:{backgroundColor:e.colors.cellBackground,borderWidth:e.borderWidths.medium,borderColor:e.colors.cellBackground,borderStyle:"solid",marginLeft:"1rem",marginTop:"-3rem",maxWidth:"8rem",width:"25%"},banner:{height:"100%"},bannerContainer:{maxHeight:"200px"},container:{paddingBottom:e.spaces.jumbo}}});t.default=E(Be)},"XyS+":function(e,t,a){"use strict";var n=a("R6lU");t.__esModule=!0,t.default=void 0;var i=n(a("86MP")),r=n(a("M1I4")),o=n(a("fKPv"));a("N4KQ");var l=n(a("GiK3")),d=n(a("fF1d")),s=n(a("ZFYz")),c=n(a("/Y4e")),u=n(a("NNCV")),f=n(a("kjWL")),h=a("cQzJ"),p=n(a("pcgs")),m=n(a("KM5a")),v=n(a("1KDF")),_=n(a("jYKd")),g=n(a("YOdk")),b=n(a("UvVB")),y=n(a("MjES")),M=25,E=0,S=200,C=500,w=function(e,t){var a,n,i=e.width,r=e.height;return t>=1?i>(a=(n=r)*t)&&(n=(a=i)/t):r>(n=(a=i)/t)&&(n=r,a=r*t),{width:a,height:n}},P=function(e,t){var a,n,i=e.width,r=e.height;return t>=1?(n=(a=i)/t)>r&&(n=r,a=r*t):(a=(n=r)*t)>i&&(a=i,n=i/t),{width:a,height:n}},I=Math.log2||function(e){return Math.log(e)*Math.LOG2E},R=function(e){return Math.max(Math.min(I(e.width/150),I(e.height/150),3),.5)},D=function(e){function t(t){var a;return a=e.call(this,t)||this,(0,o.default)((0,r.default)((0,r.default)(a)),"_previousLeft",0),(0,o.default)((0,r.default)((0,r.default)(a)),"_previousTop",0),(0,o.default)((0,r.default)((0,r.default)(a)),"_panStyles",{top:0,left:0}),(0,o.default)((0,r.default)((0,r.default)(a)),"_touchOnlyUI",!1),(0,o.default)((0,r.default)((0,r.default)(a)),"_renderControls",function(){var e=a.props,t=e.image,n=e.uiStrings,i=e.withAspectRatioOptions,r=a.state.aspectRatio,o=t.width/t.height;return i||!a._touchOnlyUI?l.default.createElement(y.default,{style:x.controlsContainer},i?l.default.createElement(y.default,{style:x.ratioContainer},l.default.createElement(d.default,{accessibilityLabel:n.aspectRatioOriginal,borderColor:"transparent",color:r===o?"primary":"deepGray",icon:l.default.createElement(s.default,null),onPress:a._setAspectRatio(o),size:"normal"}),l.default.createElement(d.default,{accessibilityLabel:n.aspectRatioWide,borderColor:"transparent",color:r===16/9?"primary":"deepGray",icon:l.default.createElement(u.default,null),onPress:a._setAspectRatio(16/9),size:"normal"}),l.default.createElement(d.default,{accessibilityLabel:n.aspectRatioSquare,borderColor:"transparent",color:1===r?"primary":"deepGray",icon:l.default.createElement(c.default,null),onPress:a._setAspectRatio(1),size:"normal"})):null,a._touchOnlyUI?null:l.default.createElement(y.default,{style:x.zoomContainer},l.default.createElement(v.default,{accessibilityLabel:n.scaleLabel,max:a._maxScale,maxIcon:l.default.createElement(f.default,{style:x.iconMax}),min:E,minIcon:l.default.createElement(f.default,{style:x.iconMin}),onChange:a._handleScaleChange,step:"any",value:a.state.imageScale}))):null}),(0,o.default)((0,r.default)((0,r.default)(a)),"_setImageRef",function(e){a._imageRef=e}),(0,o.default)((0,r.default)((0,r.default)(a)),"_handleScaleChange",function(e){a.setState({imageScale:e})}),(0,o.default)((0,r.default)((0,r.default)(a)),"_getImageDimensions",function(){var e=a.state.imageScale,t=a.props.image.width/a.props.image.height,n=a._getMaskDimensions(),i=n.width,r=n.height,o=w({width:i,height:r},t),l=o.width,d=o.height;return{width:l*Math.pow(2,e),height:d*Math.pow(2,e)}}),(0,o.default)((0,r.default)((0,r.default)(a)),"_getMaskDimensions",function(){var e=a.state,t=e.aspectRatio,n=e.containerWidth,i=e.containerHeight,r=P({width:n-2*M,height:i-2*M},t);return{width:r.width,height:r.height}}),(0,o.default)((0,r.default)((0,r.default)(a)),"_handleLayout",function(e){var t=e.nativeEvent.layout,n=t.width,i=t.height;a.state.containerHeight||a.state.containerWidth?a.setState({containerHeight:i,containerWidth:n}):(a.setState({containerHeight:i,containerWidth:n}),a._setDefaultCropData())}),(0,o.default)((0,r.default)((0,r.default)(a)),"_setDefaultCropData",function(){var e=a.props,t=e.defaultCropData,n=e.image;if(t){var i=a._getImageDimensions().width,r=a._getMaskDimensions().width,o=i/n.width,l=I(r/(t.width*o));a.setState({imageScale:l});var d=a._getUnscaledCropData(),s=d.top,c=d.left;a._panStyles.top=s-t.top*o*Math.pow(2,l),a._previousTop=a._panStyles.top,a._panStyles.left=c-t.left*o*Math.pow(2,l),a._previousLeft=a._panStyles.left,a._updateNativeStyles()}}),(0,o.default)((0,r.default)((0,r.default)(a)),"_handleWheel",function(e,t,n,i){var r=-1*t/C;a.setState(function(e){var t=e.imageScale,o=Math.min(a._maxScale,Math.max(t+r,E));return a._panStyles.left+=n*(o-t),a._panStyles.top+=i*(o-t),a._previousLeft=a._panStyles.left,a._previousTop=a._panStyles.top,{imageScale:o}})}),(0,o.default)((0,r.default)((0,r.default)(a)),"_handlePanMove",function(e,t){a._panStyles.left=a._previousLeft+e,a._panStyles.top=a._previousTop+t,a._updateNativeStyles(),a._adjustToInBounds()}),(0,o.default)((0,r.default)((0,r.default)(a)),"_handlePanEnd",function(e,t){a._previousLeft=a._panStyles.left,a._previousTop=a._panStyles.top}),(0,o.default)((0,r.default)((0,r.default)(a)),"_handlePinchMove",function(e,t,n,i,r){var o=e/S;a.setState(function(e){var l=e.imageScale,d=Math.min(a._maxScale,Math.max(l+o,E));return a._panStyles.left+=t*(d-l)+i,a._panStyles.top+=n*(d-l)+r,a._previousLeft=a._panStyles.left,a._previousTop=a._panStyles.top,{imageScale:d}})}),(0,o.default)((0,r.default)((0,r.default)(a)),"_adjustToInBounds",function(){var e=a._getUnscaledCropData(),t=a._getImageDimensions(),n=e.left,i=e.top,r=e.left+e.width-t.width,o=e.top+e.height-t.height,l=!1;n<0&&(l=!0,a._panStyles.left+=n,a._previousLeft+=n),i<0&&(l=!0,a._panStyles.top+=i,a._previousTop+=i),r>0&&(l=!0,a._panStyles.left+=r,a._previousLeft+=r),o>0&&(l=!0,a._panStyles.top+=o,a._previousTop+=o),l&&a._updateNativeStyles()}),(0,o.default)((0,r.default)((0,r.default)(a)),"_updateNativeStyles",function(){var e=a._panStyles,t=e.left,n=e.top;a._imageRef&&a._imageRef.setNativeProps({style:{transform:[{translate3d:t+"px, "+n+"px, 0"}]}})}),(0,o.default)((0,r.default)((0,r.default)(a)),"_getUnscaledCropData",function(){var e=a._getImageDimensions(),t=e.width,n=e.height,i=a._getMaskDimensions(),r=i.width,o=i.height,l=a._panStyles,d=l.left;return{top:(n-o)/2-l.top,left:(t-r)/2-d,width:r,height:o}}),(0,o.default)((0,r.default)((0,r.default)(a)),"_setAspectRatio",function(e){return function(){a.setState({aspectRatio:e})}}),a.state={aspectRatio:t.defaultAspectRatio||t.image.width/t.image.height,imageScale:E,containerHeight:0,containerWidth:0},a._touchOnlyUI=g.default.isMobileOS()&&(0,h.isTouchSupported)(),a._maxScale=R(t.image),a}(0,i.default)(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.circle,a=e.image,n=this._getImageDimensions(),i=n.width,r=n.height,o=this._getMaskDimensions(),d=o.width,s=o.height,c=this.state.containerWidth&&this.state.containerHeight;return l.default.createElement(y.default,{style:x.container},l.default.createElement(m.default,{onLayout:this._handleLayout,onPanEnd:this._handlePanEnd,onPanMove:this._handlePanMove,onPinchMove:this._handlePinchMove,onWheel:this._handleWheel,style:x.root},c?l.default.createElement(l.default.Fragment,null,l.default.createElement(b.default,{ref:this._setImageRef,source:{uri:a.src,width:i,height:r},style:x.image}),l.default.createElement(p.default,{circle:t,height:s,width:d})):null),c?this._renderControls():null)},a.componentDidUpdate=function(e,t){this._updateNativeStyles(),this._adjustToInBounds()},a.getCropData=function(){var e=this._getImageDimensions().width,t=this.props.image.width/e,a=this._getUnscaledCropData();return{aspectRatio:this.state.aspectRatio,top:Math.round(t*a.top),left:Math.round(t*a.left),width:Math.round(t*a.width),height:Math.round(t*a.height)}},t}(l.default.Component);(0,o.default)(D,"defaultProps",{circle:!1,uiStrings:{aspectRatioOriginal:"Aspect ratio: original",aspectRatioWide:"Aspect ratio: wide",aspectRatioSquare:"Aspect ratio: square",scaleLabel:"Zoom in or out"}});var x=_.default.create(function(e){return{container:{flexGrow:1,flexShrink:1},controlsContainer:{backgroundColor:e.colors.navigationBackground,minHeight:e.spaces.medium,flexDirection:"row",paddingVertical:e.spaces.xxSmall,alignSelf:"stretch",justifyContent:"center",alignItems:"center"},ratioContainer:{flexBasis:0,flexGrow:1,flexShrink:0,flexDirection:"row",justifyContent:"space-around"},zoomContainer:{flexBasis:0,flexGrow:1,flexShrink:1,justifyContent:"center",height:e.spaces.xLarge,paddingHorizontal:e.spaces.medium,maxWidth:400},root:{flexGrow:1,flexShrink:1,overflow:"hidden",justifyContent:"center",alignItems:"center",cursor:"move"},image:{position:"absolute"},iconMin:{color:e.colors.deepGray,transform:[{scale:.7}]},iconMax:{color:e.colors.deepGray}}}),B=D;t.default=B},"Y+r2":function(e,t,a){"use strict";var n=a("86MP"),i=a.n(n),r=a("GiK3"),o=(a.n(r),a("ywce")),l=a("dLcK"),d=a("jYKd"),s=a.n(d),c=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){return r.createElement(l.b,{clickMaskToClose:!1,location:this.props.location,modalSize:"fitChildren",style:u.modal},r.createElement(o.a,this.props))},t}(r.Component),u=s.a.create(function(e){return{modal:{width:600,maxWidth:"90vw"}}});t.a=c},ZFYz:function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,a("n12u");var n=o(a("x5lS")),i=o(a("GiK3")),r=o(a("sT3W"));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return void 0===e&&(e={}),(0,n.default)("svg",Object.assign({},e,{style:[r.default.root,e.style],viewBox:"0 0 24 24"}),i.default.createElement("g",null,i.default.createElement("path",{d:"M19.75 19.944H4.25c-1.24 0-2.25-1.01-2.25-2.25V6.306c0-1.24 1.01-2.25 2.25-2.25h15.5c1.24 0 2.25 1.01 2.25 2.25v11.39c0 1.24-1.01 2.248-2.25 2.248zM4.25 5.556c-.413 0-.75.337-.75.75v11.39c0 .412.337.75.75.75h15.5c.413 0 .75-.338.75-.75V6.305c0-.413-.337-.75-.75-.75H4.25z"})))};l.metadata={height:24,width:24};var d=l;t.default=d},ZHcj:function(e,t,a){"use strict";a.d(t,"f",function(){return y}),a.d(t,"g",function(){return M}),a.d(t,"a",function(){return S}),a.d(t,"c",function(){return w}),a.d(t,"b",function(){return I}),a.d(t,"d",function(){return D}),a.d(t,"e",function(){return x}),a.d(t,"h",function(){return B}),a.d(t,"i",function(){return A}),a.d(t,"j",function(){return L});var n,i=a("y9m4"),r=(a.n(i),a("n12u")),o=(a.n(r),a("IIth")),l=a("hviW"),d=a("bTdA"),s=a("XOfP"),c=a("ipg4"),u=s.a+"/profile",f="rweb/"+u,h=function(e){return f+"/"+e},p=o.a(f,"REMOVE_PROFILE_BANNER"),m=o.a(f,"UPDATE_PROFILE"),v=o.a(f,"UPDATE_PROFILE_AVATAR"),_=o.a(f,"UPDATE_PROFILE_BANNER"),g=o.a(f,"UPLOAD_MEDIA"),b={avatarMediaId:null,bannerMediaId:null,isUploading:!1};c.a.register(((n={})[u]=function(e,t){switch(void 0===e&&(e=b),void 0===t&&(t={}),t.type){case E:return Object.assign({},e,{avatarMediaId:t.meta.mediaId});case C:return Object.assign({},e,{avatarMediaId:null});case P:return Object.assign({},e,{bannerMediaId:t.meta.mediaId});case R:return Object.assign({},e,{bannerMediaId:null});case g.REQUEST:return Object.assign({},e,{isUploading:!0});case g.FAILURE:case g.SUCCESS:return Object.assign({},e,{isUploading:!1});default:return e}},n));var y=function(e){return e[u].avatarMediaId},M=function(e){return e[u].bannerMediaId},E=h("ADD_AVATAR_MEDIA"),S=function(e){return{meta:{mediaId:e},type:E}},C=h("REMOVE_AVATAR_MEDIA"),w=function(e){return{meta:{mediaId:e},type:C}},P=h("ADD_BANNER_MEDIA"),I=function(e){return{meta:{mediaId:e},type:P}},R=h("REMOVE_BANNER_MEDIA"),D=function(e){return{meta:{mediaId:e},type:R}},x=function(e){return function(t,a,n){var i=n.api;return o.b(t,{params:e,request:i.Settings.removeProfileBanner})({actionTypes:p,context:"ACTION_REMOVE_USER_BANNER"},function(e){var t;if(e)return[Object(d.c)({users:(t={},t[e.id_str]=Object.assign({},e,{profile_banner_url:null}),t)})]})}},B=function(e){return function(t,a,n){var i=n.api;return o.b(t,{params:e,request:i.Settings.updateProfile})({actionTypes:m,context:"ACTION_UPDATE_PROFILE_SETTINGS"},function(e){if(e&&e.entities)return[Object(d.c)(e.entities)]})}},O=function(e,t,a){return function(n){return function(i,r,s){var c=s.api;i({type:g.REQUEST});var u=l.j(n);return i(u).then(function(n){var r=n[0];i([{type:g.SUCCESS},{type:e.REQUEST}]);return o.b(i,{params:{media_id:r.uploadId},request:a(c)})({actionTypes:m,context:t},function(e){var t;if(e)return[Object(d.c)({users:(t={},t[e.id_str]=e,t)})]})},function(e){return i({type:g.FAILURE}),Promise.reject(e)})}}},A=O(v,"ACTION_UPDATE_USER_AVATAR",function(e){return e.Settings.updateProfileAvatar}),L=O(_,"ACTION_UPDATE_USER_BANNER",function(e){return e.Settings.updateProfileBanner})},iY3t:function(e,t,a){"use strict";t.a={edit:"ProfileBirthdate_Edit_Button",cancel:"ProfileBirthdate_Cancel_Button",save:"Profile_Save_Button",remove:"ProfileBirthdate_Remove_Button",monthSelector:"ProfileBirthdate_Month_Selector",daySelector:"ProfileBirthdate_Day_Selector",yearSelector:"ProfileBirthdate_Year_Selector"}},pcgs:function(e,t,a){"use strict";var n=a("R6lU");t.__esModule=!0,t.default=void 0;var i=n(a("GiK3")),r=n(a("jYKd")),o=n(a("MjES")),l=r.default.create(function(e){return{mask:{backgroundColor:"transparent",borderWidth:e.spaces.xxSmall,borderColor:e.colors.primary,boxShadow:"0 0 0 9999px "+e.colors.activeFaintGray},circle:{borderRadius:e.borderRadii.infinite}}}),d=function(e){var t=e.width,a=e.height,n=e.circle;return i.default.createElement(o.default,{pointerEvents:"none",style:[l.mask,{width:t,height:a},n&&l.circle]})};t.default=d},sfIW:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a("VTn2"),i=(a.n(n),Object.freeze({SELF:"self",MUTUAL_FOLLOW:"mutualfollow",FOLLOWING:"following",FOLLOWERS:"followers",PUBLIC:"public"}))},uRcz:function(e,t,a){"use strict";var n=a("lt8z"),i=a.n(n),r=a("86MP"),o=a.n(r),l=a("GiK3"),d=(a.n(l),a("jH3T")),s=a.n(d),c=a("MjES"),u=a.n(c),f=a("i2DS"),h=a.n(f),p=a("XyS+"),m=a.n(p),v=a("jYKd"),_=a.n(v),g=a("7P/m"),b=s.a.e0e1ff4e,y=s.a.de15098a,M=s.a.aa261873,E=s.a.a1e564e5,S=s.a.a54d17e1,C=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={orientedImage:null},a}o()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this,t=(this.props.media||{}).originalMediaFile,a=void 0===t?{}:t;a&&a instanceof g.c&&Object(g.f)(a).then(function(t){return new g.c(t).withDimensionsAndOrientation().then(function(t){e.setState({orientedImage:t})})})},a.render=function(){return this.state.orientedImage?this._renderCropper():l.createElement(h.a,{accessibilityLabel:S,style:w.activityIndicator})},a._renderCropper=function(){var e=this.props,t=e.cropperRef,a=e.defaultAspectRatio,n=e.withAspectRatioOptions,i=e.media,r=e.defaultCropData,o=this.state.orientedImage,d=i||{},s=d.cropData,c=d.originalMediaFile,f=void 0===c?{}:c;return o?l.createElement(u.a,{style:w.cropper},l.createElement(m.a,{circle:this.props.circle,defaultAspectRatio:r&&r.aspectRatio||s&&s.aspectRatio||a,defaultCropData:r||s,image:{src:o.url,width:f.width,height:f.height},ref:t,uiStrings:{scaleLabel:b,aspectRatioOriginal:y,aspectRatioWide:M,aspectRatioSquare:E},withAspectRatioOptions:n})):null},t}(l.Component),w=_.a.create(function(e){return{cropper:{backgroundColor:e.colors.navigationBackground,flexGrow:1},activityIndicator:{flexGrow:1}}});t.a=l.forwardRef(function(e,t){return l.createElement(C,i()({},e,{cropperRef:t}))})},"vBQ+":function(e,t,a){"use strict";a("QBuC");var n=a("86MP"),i=a.n(n),r=a("GiK3"),o=function(e,t,a){return new Date(e,t,a)},l=a("jH3T"),d=a.n(l);a.d(t,"a",function(){return p});var s=d.a.j9b54194,c=d.a.j6b1787b,u=d.a.ba2e82a1,f=d.a.da44942d,h=d.a.d7d71244,p=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.birthdate,a=t.day,n=t.month,i=t.year,r=e.withBornPrefixText,o=!!i,l=!!n,d=!!a,s=!o&&l&&d,c=o&&(!l||!d);return o&&l&&d?this._getFullBirthdate(Number(i),Number(n),Number(a),r):s?this._getMonthDayBirthdate(Number(n),Number(a),r):c?this._getYearOnlyBirthdate(Number(i),r):null},a._getFullBirthdate=function(e,t,a,n){var i=o(e,t-1,a);return n?s({birthdate:u(i)}):u(i)},a._getMonthDayBirthdate=function(e,t,a){var n=o(0,e-1,t);return a?s({birthdate:f(n)}):f(n)},a._getYearOnlyBirthdate=function(e,t){var a=o(e,0,1);return t?c({year:h(a)}):h(a)},t}(r.PureComponent)},yK8q:function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,a("n12u");var n=o(a("x5lS")),i=o(a("GiK3")),r=o(a("sT3W"));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return void 0===e&&(e={}),(0,n.default)("svg",Object.assign({},e,{style:[r.default.root,e.style],viewBox:"0 0 24 24"}),i.default.createElement("g",null,i.default.createElement("path",{d:"M21.592 5.576c.877-.967.882-2.298.006-3.174-.877-.877-2.208-.87-3.174.006 0 0-.003 0-.004.002l-.006.006-.005.004s-.002 0-.002.002L8.398 11.27c-1.716-.214-3.424.31-4.534 1.42-3.872 3.874-1.523 9.616-1.422 9.858.1.24.32.41.577.45.037.007.075.01.113.01.218 0 .428-.095.57-.265 1.83-2.15 3.043-2.023 4.328-1.89 1.164.122 2.477.258 3.834-1.282.975-1.106 1.302-2.585.922-4.03l8.792-9.948h.002l.004-.006.006-.006.002-.004zm-1.055-2.113c.305.305.28.74-.06 1.11-.003.003-.004.007-.006.01 0 0-.003 0-.004.003l-5.662 6.406-1.796-1.796 6.406-5.662c.002 0 .002-.003.004-.005.002-.003.006-.004.008-.006.37-.34.807-.365 1.11-.06zm-8.62 10.797L9.74 12.084l2.142-1.894 1.927 1.927-1.894 2.143zm-1.178 4.32c-.848.96-1.488.895-2.552.78-1.27-.13-2.808-.293-4.722 1.463-.415-1.673-.784-4.83 1.457-7.072.807-.805 2.086-1.168 3.377-.983l2.977 2.976c.333 1.03.15 2.057-.538 2.836z"})))};l.metadata={height:24,width:24};var d=l;t.default=d},ydcI:function(e,t,a){"use strict";var n=a("R6lU");t.__esModule=!0,t.default=t.styles=t.Div=void 0,a("1A13"),a("beEN");var i=n(a("86MP")),r=n(a("M1I4")),o=n(a("fKPv")),l=n(a("GiK3")),d=n(a("jYKd")),s=n(a("x5lS")),c=n(a("MjES")),u=function(e){return(0,s.default)("div",e)};t.Div=u;var f=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,(0,o.default)((0,r.default)((0,r.default)(t)),"_dragEnterCount",0),(0,o.default)((0,r.default)((0,r.default)(t)),"state",{active:!1}),(0,o.default)((0,r.default)((0,r.default)(t)),"_handleDragDrop",function(e){var a=t.props.onFilesAdded;e.preventDefault(),a(Array.from(e&&e.dataTransfer.files)),t._updateDragCount(0)}),(0,o.default)((0,r.default)((0,r.default)(t)),"_handleDragEnter",function(e){var a=t.props.onDragEnter;e.preventDefault(),a&&a(),t._updateDragCount(t._dragEnterCount+1)}),(0,o.default)((0,r.default)((0,r.default)(t)),"_handleDragLeave",function(e){e.preventDefault(),t._updateDragCount(t._dragEnterCount-1)}),(0,o.default)((0,r.default)((0,r.default)(t)),"_handleDragOver",function(e){e.preventDefault()}),t}(0,i.default)(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.allowDragDrop,a=e.children,n=e.style,i=this.state.active,r=t?h.dragBorderValid:h.dragBorderInvalid;return l.default.createElement(u,{onDragEnter:this._handleDragEnter,onDragLeave:this._handleDragLeave,onDragOver:this._handleDragOver,onDrop:this._handleDragDrop,style:[h.root,n,i&&r]},l.default.createElement(c.default,{style:h.inner},"function"==typeof a?a(i):a))},a._updateDragCount=function(e){this._dragEnterCount=e,0===this._dragEnterCount?this.setState({active:!1}):this._dragEnterCount>0&&this.setState({active:!0})},t}(l.default.Component);(0,o.default)(f,"defaultProps",{allowDragDrop:!0});var h=d.default.create(function(e){return{root:{display:"flex",flexDirection:"column"},dragBorderValid:{borderStyle:"dashed",borderWidth:e.spaces.micro,borderColor:e.colors.primary},dragBorderInvalid:{borderStyle:"dashed",borderWidth:e.spaces.micro,borderColor:e.colors.red},inner:{flexGrow:1}}});t.styles=h;var p=f;t.default=p},ywce:function(e,t,a){"use strict";a("n12u");var n=a("M1I4"),i=a.n(n),r=a("86MP"),o=a.n(r),l=a("fKPv"),d=a.n(l),s=a("GiK3"),c=a("Z1LJ"),u=a("bndy"),f=a("IIZ1"),h=a("7t5w"),p=a("hviW"),m=Object(u.createSelector)(function(e,t){return t.media?t.media:Object(f.isFinite)(t.mediaId)?Object(p.f)(e,t.mediaId)[0]:void 0},function(e,t){return void 0!==t.mediaId?t.mediaId:t.media?t.media.id:null},function(e,t){return{media:e,mediaId:t}}),v={processMedia:p.c,scribeAction:h.c,updateMediaUpload:p.i},_=Object(c.e)(m,v),g=a("bgPG"),b=a("eB+D"),y=a("jH3T"),M=a.n(y),E=a("uRcz"),S=a("fF1d"),C=a.n(S),w=(a("XyS+"),a("jYKd")),P=a.n(w),I=M.a.b2e1930b,R=M.a.j16ffee3,D=function(e){function t(t){var a;return a=e.call(this,t)||this,d()(i()(a),"_getMedia",function(){var e=a.props.media;return e&&e.mediaFile&&e.mediaFile.isImage?e:null}),d()(i()(a),"_renderAppBarRightControl",function(){var e=a.state.isProcessing;return s.createElement(C.a,{disabled:e,onPress:a._handleApplyButtonClick,size:"normalCompact",type:"primary"},R)}),d()(i()(a),"_handleBackClick",function(){var e=a.props,t=e.onCancel,n=e.scribeAction,i=e.scribeNamespace;n(Object.assign({},i,{action:"cancel"})),t&&t()}),d()(i()(a),"_handleApplyButtonClick",function(){var e=a._cropper.current;if(e){var t=a.props,n=t.mediaId,i=t.onDone,r=t.processMedia,o=t.scribeAction,l=t.scribeNamespace,d=t.updateMediaUpload;a.setState({isProcessing:!0});var s=e.getCropData();Object(f.isFinite)(n)&&(d({id:n,cropData:s}),r(n).then(function(){a.setState({isProcessing:!1}),o(Object.assign({},l,{action:"done"})),i()}))}}),a.state={isProcessing:!1},a._cropper=s.createRef(),t.media||t.onCancel(),a}return o()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,a=e.location,n=e.defaultAspectRatio,i=e.withAspectRatioOptions,r=this._getMedia();return s.createElement(b.b,{backButtonType:"back",containerStyle:x.root,documentTitle:I,history:t,location:a,onBackClick:this._handleBackClick,rightControl:this._renderAppBarRightControl(),title:I},s.createElement(E.a,{defaultAspectRatio:n,media:r,ref:this._cropper,withAspectRatioOptions:i}))},t}(s.Component),x=P.a.create(function(e){return{root:{flexShrink:1,height:650}}});t.a=Object(g.d)({page:"media",section:"edit"})(_(D))}});
//# sourceMappingURL=https://ton.smf1.twitter.com/responsive-web-internal/sourcemaps/web/bundle.SettingsProfile.dbc87c468a8c956c4.js.map